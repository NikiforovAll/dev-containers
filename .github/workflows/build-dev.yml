on: 
  #repository_dispatch:
  push:
    branches: [master]
    paths:
      - 'containers/**'

jobs:
  build:
    name: Push Docker image to GitHub Packages
    runs-on: ubuntu-latest
    steps:
      - name: Check out the repo
        uses: actions/checkout@v2
      - name: Build dotnet
        run: |
          docker build -f ./containers/dotnet/base.Dockerfile ./containers/dotnet/.devcontainer
      - name: Build angular
        run: |
          docker build -f ./containers/angular/base.Dockerfile ./containers/angular/.devcontainer
      # - name: Push to GitHub Packages
      #   uses: docker/build-push-action@v1
      #   with:
      #     username: ${{ github.actor }}
      #     password: ${{ secrets.GITHUB_TOKEN }}
      #     registry: docker.pkg.github.com
      #     repository: 
      #     tag_with_ref: true
